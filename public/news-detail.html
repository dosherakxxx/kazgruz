<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–µ—Ç–∞–ª–∏ –Ω–æ–≤–æ—Å—Ç–∏ ‚Äî KazGruz</title>
    <link rel="stylesheet" href="frontend/style/style.css">
</head>
<body>
    <header class="header">
        <div class="container header__container">
            <div class="logo">KazGruz</div>
            <nav class="nav">
                <a href="index.html" class="nav__link">‚Üê –ù–∞–∑–∞–¥</a>
                <a href="frontend/html/login.html" class="nav__link nav__login-btn">–í—Ö–æ–¥ / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
            </nav>
        </div>
    </header>

    <main class="news-detail">
        <div class="container">
            <article class="news-article">
                <div class="back-button">
                    <a href="index.html" class="btn btn-secondary">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–æ–≤–æ—Å—Ç—è–º</a>
                </div>
                
                <div class="news-header">
                    <h1 id="news-title">–ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–æ—Å—Ç–∏</h1>
                    <div class="news-meta-detail">
                        <span id="news-date" class="news-date">–î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</span>
                        <div class="news-reactions-detail">
                            <button class="reaction-btn like-btn" onclick="toggleReaction('like')">
                                üëç <span id="like-count">0</span>
                            </button>
                            <button class="reaction-btn dislike-btn" onclick="toggleReaction('dislike')">
                                üëé <span id="dislike-count">0</span>
                            </button>
                        </div>
                    </div>
                </div>

                <div class="news-image-container">
                    <img id="news-image" src="" alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏" class="news-detail-image">
                </div>

                <div class="news-content-detail" id="news-content">
                    <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –Ω–æ–≤–æ—Å—Ç–∏ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω —á–µ—Ä–µ–∑ JavaScript -->
                </div>

                <div class="news-footer">
                    <div class="share-buttons">
                        <h4>–ü–æ–¥–µ–ª–∏—Ç—å—Å—è:</h4>
                        <a href="#" class="share-btn telegram" onclick="shareToTelegram()">Telegram</a>
                        <a href="#" class="share-btn whatsapp" onclick="shareToWhatsApp()">WhatsApp</a>
                        <a href="#" class="share-btn copy-link" onclick="copyLink()">–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å—Å—ã–ª–∫—É</a>
                    </div>
                </div>
            </article>
        </div>
    </main>

    <footer class="footer">
        <div class="container footer__container">
            <div class="footer-section">
                <h4>–°–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã</h4>
                <div class="payment-methods">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b5/PayPal.svg/200px-PayPal.svg.png" alt="PayPal" class="payment-logo">
                    <img src="https://kaspi.kz/img/kaspi-logo.png" alt="Kaspi Bank" class="payment-logo">
                    <img src="https://halykbank.kz/static/img/logo.svg" alt="Halyk Bank" class="payment-logo">
                </div>
            </div>
            <div class="footer-section">
                <h4>–°–∫–∞—á–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</h4>
                <div class="app-downloads">
                    <a href="#" class="app-link">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/7/78/Google_Play_Store_badge_EN.svg/200px-Google_Play_Store_badge_EN.svg.png" alt="Google Play" class="app-store-logo">
                    </a>
                    <a href="#" class="app-link">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/Download_on_the_App_Store_Badge.svg/200px-Download_on_the_App_Store_Badge.svg.png" alt="App Store" class="app-store-logo">
                    </a>
                </div>
            </div>
            <div class="footer-section">
                <h4>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h4>
                <div class="contact-info">
                    <p>üìß info@kazgruz.kz</p>
                    <p>üìû +7 (777) 123-45-67</p>
                    <p>üè¢ –≥. –ê–ª–º–∞—Ç—ã, —É–ª. –ê–±–∞—è 150</p>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <div class="container">
                <p>KazGruz ¬© 2025. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </div>
        </div>
    </footer>

    <script>
        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–∏
        document.addEventListener('DOMContentLoaded', function() {
            const newsData = JSON.parse(localStorage.getItem('currentNews'));
            
            if (newsData) {
                document.getElementById('news-title').textContent = newsData.title;
                document.getElementById('news-date').textContent = newsData.date;
                document.getElementById('news-image').src = newsData.image;
                document.getElementById('news-content').innerHTML = newsData.content;
                document.getElementById('like-count').textContent = newsData.likes;
                document.getElementById('dislike-count').textContent = newsData.dislikes;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
                document.title = newsData.title + ' ‚Äî KazGruz';
            } else {
                // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ—Ç, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é
                window.location.href = 'index.html';
            }
        });

        let userReaction = null;

        function toggleReaction(type) {
            const likeBtn = document.querySelector('.like-btn');
            const dislikeBtn = document.querySelector('.dislike-btn');
            const likeCount = document.getElementById('like-count');
            const dislikeCount = document.getElementById('dislike-count');

            if (userReaction === type) {
                // –£–±–∏—Ä–∞–µ–º —Ä–µ–∞–∫—Ü–∏—é
                userReaction = null;
                likeBtn.classList.remove('active');
                dislikeBtn.classList.remove('active');
                
                if (type === 'like') {
                    likeCount.textContent = parseInt(likeCount.textContent) - 1;
                } else {
                    dislikeCount.textContent = parseInt(dislikeCount.textContent) - 1;
                }
            } else {
                // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–æ–≤—É—é —Ä–µ–∞–∫—Ü–∏—é
                if (userReaction) {
                    // –£–±–∏—Ä–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â—É—é —Ä–µ–∞–∫—Ü–∏—é
                    if (userReaction === 'like') {
                        likeCount.textContent = parseInt(likeCount.textContent) - 1;
                        likeBtn.classList.remove('active');
                    } else {
                        dislikeCount.textContent = parseInt(dislikeCount.textContent) - 1;
                        dislikeBtn.classList.remove('active');
                    }
                }
                
                userReaction = type;
                
                if (type === 'like') {
                    likeCount.textContent = parseInt(likeCount.textContent) + 1;
                    likeBtn.classList.add('active');
                } else {
                    dislikeCount.textContent = parseInt(dislikeCount.textContent) + 1;
                    dislikeBtn.classList.add('active');
                }
            }
        }

        function shareToTelegram() {
            const title = document.getElementById('news-title').textContent;
            const url = window.location.href;
            const text = encodeURIComponent(`${title}\n${url}`);
            window.open(`https://t.me/share/url?url=${encodeURIComponent(url)}&text=${text}`, '_blank');
        }

        function shareToWhatsApp() {
            const title = document.getElementById('news-title').textContent;
            const url = window.location.href;
            const text = encodeURIComponent(`${title}\n${url}`);
            window.open(`https://wa.me/?text=${text}`, '_blank');
        }

        function copyLink() {
            navigator.clipboard.writeText(window.location.href).then(() => {
                alert('–°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞!');
            });
        }
    </script>
</body>
</html>
